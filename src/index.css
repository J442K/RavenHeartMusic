@tailwind base;
@tailwind components;
@tailwind utilities;

/* Global vibe styles */
html, body { height: 100%; }
body {
  background-color: #000;
  /* Overlay blood-tinted gradient + horse rider image */
  background-image: linear-gradient(rgba(139,0,0,0.12), rgba(0,0,0,0.5)), url('/horse-rider.png');
  /* First layer (gradient) covers; second layer (image) fits fully */
  background-position: center, center;
  background-size: cover, contain;
  background-repeat: no-repeat, no-repeat;
  background-attachment: fixed;
  background-blend-mode: normal;
  animation: crt-flicker 7s infinite;
}

/* Gentle site-wide red tint overlay (non-interactive) */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(139, 0, 0, 0.10);
  mix-blend-mode: soft-light;
  pointer-events: none;
  z-index: 9999;
}

/* Mobile adjustments: reduce jank, use cover for stronger framing */
@media (max-width: 640px) {
  body {
    background-position: center, center;
    background-size: cover, contain; /* keep full image on mobile too */
    background-attachment: scroll;
  }
}

.glass {
  background: rgba(10,10,10,0.6);
  border: 1px solid #8b0000;
  backdrop-filter: blur(12px);
}

.jagged {
  clip-path: polygon(0 10%, 5% 0, 15% 12%, 25% 0, 35% 8%, 45% 0, 55% 14%, 65% 0, 75% 12%, 85% 0, 95% 8%, 100% 10%, 100% 90%, 95% 100%, 85% 88%, 75% 100%, 65% 86%, 55% 100%, 45% 92%, 35% 100%, 25% 86%, 15% 100%, 5% 92%, 0 90%);
}

.glitch {
  animation: glitch 2.5s infinite;
}

.hover-blood:hover { box-shadow: 0 0 8px #8b0000; }

.desaturate { filter: grayscale(100%); }

.blood-overlay {
  position: absolute; inset: 0; background: radial-gradient(circle at center, rgba(139,0,0,0.35) 0%, rgba(0,0,0,0.8) 60%);
  opacity: 0; transition: opacity 200ms ease;
  pointer-events: none; /* do not block clicks on buttons/card */
}
.card:hover .blood-overlay { opacity: 1; }

.electric:focus { outline: none; box-shadow: 0 0 8px #8b0000, inset 0 0 10px #8b0000; animation: electric 0.3s linear infinite; }
@keyframes electric { 0% { box-shadow: 0 0 8px #8b0000 } 50% { box-shadow: 0 0 14px #8b0000 } 100% { box-shadow: 0 0 8px #8b0000 } }

.wire-divider svg { width: 100%; height: 24px; }

.timer-badge {
  position: absolute; bottom: 8px; right: 8px; background: rgba(0,0,0,0.7);
  color: #b5b5b5; font-size: 12px; padding: 4px 8px; border: 1px solid #8b0000;
}

/* Raven wings mask for player progress */
.raven-progress-mask {
  -webkit-mask: url('/src/raven-wings.svg') no-repeat center / cover;
  mask: url('/src/raven-wings.svg') no-repeat center / cover;
}

/* Custom red volume slider */
.vol-range { width: 120px; cursor: pointer; }
.vol-range:focus { outline: none; }

/* WebKit (Chrome, Edge, Safari) */
.vol-range::-webkit-slider-runnable-track {
  height: 4px;
  border-radius: 3px;
  /* Remove default border to avoid light end caps; draw a red outline via inset shadow */
  border: none;
  box-shadow: inset 0 0 0 1px #8b0000;
  background-clip: padding-box;
  /* Solid red progress into dark track */
  background: linear-gradient(
    to right,
    #8b0000 0%,
    #8b0000 var(--val),
    #0a0a0a var(--val),
    #0a0a0a 100%
  );
}
.vol-range::-webkit-slider-thumb {
  appearance: none;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: #8b0000;
  border: 1px solid #8b0000;
  margin-top: -3px; /* align with track height */
  box-shadow: 0 0 4px rgba(139, 0, 0, 0.6);
}

.vol-range:hover::-webkit-slider-thumb,
.vol-range:focus::-webkit-slider-thumb {
  box-shadow: 0 0 6px rgba(139, 0, 0, 0.8);
}

/* Firefox */
.vol-range::-moz-range-track {
  height: 4px;
  border-radius: 3px;
  border: none;
  box-shadow: inset 0 0 0 1px #8b0000;
  background: #0a0a0a;
}
.vol-range::-moz-range-progress {
  height: 4px;
  border-radius: 3px;
  border: none;
  box-shadow: inset 0 0 0 1px #8b0000;
  background: #8b0000;
}
.vol-range::-moz-range-thumb {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: #8b0000;
  border: 1px solid #8b0000;
  box-shadow: 0 0 4px rgba(139, 0, 0, 0.6);
}

/* Themed scrollbars (matches coal/blood aesthetic) */
/* Global page scrollbar */
html::-webkit-scrollbar { width: 10px; height: 10px; }
html::-webkit-scrollbar-track { background: #0a0a0a; border-left: 1px solid #8b0000; }
html::-webkit-scrollbar-thumb { background: #1a1a1a; border: 1px solid #8b0000; border-radius: 8px; }
html::-webkit-scrollbar-thumb:hover { background: #2a2a2a; }

/* Overlay/CommandBar results scrollbar */
.commandbar-results::-webkit-scrollbar { width: 8px; height: 8px; }
.commandbar-results::-webkit-scrollbar-track { background: rgba(10,10,10,0.9); border-left: 1px solid #8b0000; }
.commandbar-results::-webkit-scrollbar-thumb { background: #1a1a1a; border: 1px solid #8b0000; border-radius: 8px; }
.commandbar-results::-webkit-scrollbar-thumb:hover { background: #2a2a2a; }

/* Firefox scrollbar colors */
html { scrollbar-color: #1a1a1a #0a0a0a; scrollbar-width: thin; }
.commandbar-results { scrollbar-color: #1a1a1a rgba(10,10,10,0.9); scrollbar-width: thin; }

/* CommandBar panel scrollbar */
.commandbar-panel::-webkit-scrollbar { width: 10px; height: 10px; }
.commandbar-panel::-webkit-scrollbar-track { background: rgba(10,10,10,0.9); border-left: 1px solid #8b0000; }
.commandbar-panel::-webkit-scrollbar-thumb { background: #1a1a1a; border: 1px solid #8b0000; border-radius: 8px; }
.commandbar-panel::-webkit-scrollbar-thumb:hover { background: #2a2a2a; }
.commandbar-panel { scrollbar-color: #1a1a1a rgba(10,10,10,0.9); scrollbar-width: thin; overscroll-behavior: contain; }
